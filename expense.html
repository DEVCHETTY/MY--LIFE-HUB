<!DOCTYPE html>
<html>
<head>
    <title>Expense Tracker</title>
</head>
<body>

    <h2>ðŸ’° Expense Tracker</h2>

    <input type="text" id="title" placeholder="Expense Title"><br><br>
    <input type="number" id="amount" placeholder="Amount"><br><br>

    <button onclick="addExpense()">Add Expense</button>

    <h3>Total: â‚¹ <span id="total">0</span></h3>

    <ul id="expenseList"></ul>

<script>

let expenses = JSON.parse(localStorage.getItem("expenses")) || [];

function addExpense() {

    let title = document.getElementById("title").value;
    let amount = document.getElementById("amount").value;

    if(title === "" || amount === "") {
        alert("Please fill all fields");
        return;
    }

    let expense = {
        title: title,
        amount: Number(amount)
    };

    expenses.push(expense);
    localStorage.setItem("expenses", JSON.stringify(expenses));

    displayExpenses();

    document.getElementById("title").value = "";
    document.getElementById("amount").value = "";
}

function displayExpenses() {

    let list = document.getElementById("expenseList");
    list.innerHTML = "";

    let total = 0;

    expenses.forEach((exp, index) => {

        total += exp.amount;

        let li = document.createElement("li");
        li.innerHTML = exp.title + " - â‚¹" + exp.amount +
            " <button onclick='deleteExpense(" + index + ")'>Delete</button>";

        list.appendChild(li);
    });

    document.getElementById("total").innerText = total;
}

function deleteExpense(index) {
    expenses.splice(index, 1);
    localStorage.setItem("expenses", JSON.stringify(expenses));
    displayExpenses();
}

displayExpenses();

</script>

</body>
</html>
